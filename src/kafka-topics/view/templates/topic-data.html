<!--
    selectedTabNnumber
    search.$
    onTabChanges('topic')
    getPartitions / partitions (?) >> topic.partitions
-->
<div style="background-color:#F5F5F5;" ng-cloak layout-margin>

    <!--4.2 TOPIC FILTERS & CHARTS-->
    <!--<div ng-include="'src/kafka-topics/view/templates/data/data-chart.html'"></div>-->

    <!--4.3 TOPIC DATASET-->
    <div style="background-color:#fff;" >
        <md-tabs style="padding:0" md-dynamic-height md-border-bottom md-selected="selectedTabNnumber">

            <div>
                <input ng-model="search.$" flex placeholder="Filter" style="width: 300px;margin: 7px; line-height: 30px;"/>

                <select class="form-control button" ng-model="search.partition" style="float:right; width: 120px;margin: 7px; line-height: 30px;">
                    <option value="" selected>All partitions</option>
                    <option ng-repeat="i in getPartitions(partitions)" track by $index value="{{$index}}">Partition {{$index}}</option>
                </select>
            </div>

            <!--TODO Why don't we handle keyType as well? -->
            <md-tab label="Topic" ng-click="onTabChanges('topic', cluster)" ng-if="topic.valueType != 'binary' ">
                <tree-view data="rows" partitions="" search="search"></tree-view>
            </md-tab>

            <md-tab label="Table" ng-click="onTabChanges('table', cluster)" ng-if="topic.valueType != 'binary' ">
                <flat-view data="rows" partitions="" search="search"></flat-view>
            </md-tab>

            <md-tab label="Raw Data" ng-click="onTabChanges('rawdata', cluster)" >
                <raw-view data="rows" topicType="topic.valueType"></raw-view>
            </md-tab>

        </md-tabs>
    </div>
</div>