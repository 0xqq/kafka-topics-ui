<!--
    selectedTabNnumber
    search.$
    onTabChanges('topic')
    getPartitions
-->
<div style="background-color:#F5F5F5;" ng-cloak layout-margin>

    <!--4.2 TOPIC FILTERS & CHARTS-->
    <div ng-include="'src/kafka-topics/view/templates/data/data-chart.html'"></div>


    <!--4.3 TOPIC DATASET-->
    <div style="background-color:#fff;" >
        <md-tabs style="padding:0" md-dynamic-height md-border-bottom md-selected="selectedTabNnumber">

            <div>
                <input ng-model="search.$" flex placeholder="Filter" style="width: 300px;margin: 7px; line-height: 30px;"/>

                <select class="form-control button" ng-model="search.partition" style="float:right; width: 120px;margin: 7px; line-height: 30px;">
                    <option value="" selected>All partitions</option>
                    <option ng-repeat="i in getPartitions(partitions)" track by $index value="{{$index}}">Partition {{$index}}</option>
                </select>
            </div>

            <!--Why don't we handle keyType as well? -->
            <md-tab   label="Topic" ng-click="onTabChanges('topic', cluster)" ng-if="topic.valueType != 'binary' ">
                <div ng-include="'src/kafka-topics/view/templates/data/data-tree-view.html'"></div>
            </md-tab>

            <md-tab label="Table" ng-click="onTabChanges('table', cluster)" ng-if="topic.valueType != 'binary' ">
                <div ng-include="'src/kafka-topics/view/templates/data/flatten/data-flatten-view.html'"></div>
            </md-tab>

            <md-tab label="Raw Data" ng-click="onTabChanges('rawdata', cluster)" >
                <div ng-include="'src/kafka-topics/view/templates/data/data-raw-view.html'"></div>
            </md-tab>

        </md-tabs>
    </div>
</div>