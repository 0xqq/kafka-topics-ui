<md-card>
    <md-progress-linear md-mode="indeterminate" ng-show="showSpinner"></md-progress-linear>

  <md-toolbar ng-show="!displayingControlTopics" class="md-hue-2">
    <div class="md-toolbar-tools">
      <md-button ng-click="toggleList()">
        <i ng-show="showList" class="fa fa-expand" aria-hidden="true"></i>
        <i ng-hide="showList" class="fa fa-compress" aria-hidden="true"></i>
      </md-button>
      <h4>
        <span>{{topicName}}<br /> <small style="color:#eee;"> key schema: __confluent.support.metrics, value schema: __confluent.support.metrics</small></span>
      </h4>
      <span flex></span>
      <md-button  download="true"
              ng-click="getData(topicName)"
              aria-label="Download data"
              aria-hidden="false">
        <i class="fa fa-download" aria-hidden="true"></i>
      </md-button>
    </div>
  </md-toolbar>

  <div flex style="padding: 2px;padding-bottom:2px;" ng-cloak>

    <!-- Spinner -->
    <div layout="row" layout-align="start center" style="margin:10px;padding:10px;background:#fcf8e3;" ng-show="topicIsEmpty">
      <div style="color:#333;"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
          This topic is empty.</div>
    </div>
    <div ng-hide=" getExtraConfig(topicName) == '' && topicIsEmpty">
    <div style="display:flex;width:100%;height:55px" >
        <div style="width:150px;margin:16px 15px 0 0">
            <select class="form-control button" ng-model="search.partition" >
                <option value="" selected>Select partitions</option>
                <option ng-repeat="i in getPartitions(partitions)" track by $index value="{{$index}}">Partition {{$index}}</option>
            </select>
        </div>


        <div flex="3">
        <md-input-container  class="md-block" ng-hide="topicIsEmpty || selectedTabNnumber > 1 "  flex="2">
          <label>Filter / KCQL</label>
          <input ng-model="search" flex/>
          <!--<md-button style="position: absolute;right: 0px;top: -15px;" class="md-mini" ng-click="showAll()">{{showHideAllButtonLabel}}</md-button>-->
        </md-input-container>
        </div>
        <div>
            <md-button flex ng-click="kcqlRequest()">GO</md-button>
        </div>

    </div>
      <!--<md-button style="position: absolute;right: 0px;top: -15px;" class="md-mini" ng-click="showAll()">{{showHideAllButtonLabel}}</md-button>-->
        <div style="width:100%;text-align:right;" ng-show="showButton">
            <md-button layout-align="end"  ng-show="showChart" ng-click="toggleChart()"> <i class="fa fa-eye-slash" aria-hidden="true"></i> Hide chart </md-button>
            <md-button layout-align="end" ng-show="!showChart" ng-click="toggleChart()"> <i class="fa fa-eye" aria-hidden="true"></i> Show chart </md-button>
        </div>
        <div id="tester" height="250" width="90%" ng-show="showChart"></div>

    <md-tabs ng-hide="showSpinner" style="padding:0" md-dynamic-height md-border-bottom md-selected="selectedTabNnumber">

        <md-tab   label="Topic" ng-click="onTabChanges('topic')"   ng-if="topicType != 'binary' && !topicIsEmpty ">
            <div ng-include="'src/kafka-topics/view/templates/normal.html'"></div>
        </md-tab>

        <md-tab   label="Table" ng-click="onTabChanges('table')" ng-if="!topicIsEmpty">
            <div ng-include="'src/kafka-topics/view/templates/flat_table.html'"></div>
        </md-tab>

        <md-tab label="Raw Data" ng-click="onTabChanges('rawdata')" ng-if=" !topicIsEmpty">
            <div ng-include="'src/kafka-topics/view/templates/raw_data.html'"></div>
        </md-tab>

        <md-tab label="Configuration" ng-click="onTabChanges('config')"  ng-if=" selectedTabNnumber == '3' || getExtraConfig(topicName) != ''">
            <div ng-include="'src/kafka-topics/view/templates/withConfiguration.html'"></div>
        </md-tab>

    </md-tabs>
  </div>
  </div>

</md-card>
